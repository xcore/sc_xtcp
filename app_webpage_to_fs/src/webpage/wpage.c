#include "wpage.h" 
char page[] = {"<html xmlns='http://www.xmos.com' xml:lang='en' lang='en'>\n<meta http-equiv='Pragma' content='no-cache' />\n<meta http-equiv='Expires' content='-1' />\n<head><title>XMOS Serial to Ethernet</title>\n<script type='text/javascript'>\n// <!--\nvar wpdata = new Array();\nfunction alertContents(httpRequest)\n{\n   if (httpRequest.readyState == 4)\n   {\n      if ((httpRequest.status == 200) || (httpRequest.status == 0))\n      {\n         processHttpResponseText(httpRequest.responseText);\n         document.getElementById('send_status').innerHTML = 'Done';\n      }\n      else\n      {\n         document.getElementById('send_status').innerHTML = 'Error';\n      }\n   }\n}\nfunction processHttpResponseText(rtext)\n{\n   var marker_start = 0;\n   var marker_end = -1;\n   var i = 0;\n   var index_data = 1;\n   for(i = 0; i < rtext.length; i++)\n   {\n      if(rtext.charAt(i) == '~')\n      {\n         if(marker_end == -1)\n         {\n            marker_start = i + 1;\n            marker_end = i + 1;\n         }\n         else\n         {\n            wpdata[index_data] = rtext.substring(marker_start, i);\n            index_data++;\n            marker_start = 0;\n            marker_end = -1;\n         }\n      }\n   }\n   updateWebpageData();\n}\nfunction createRequest(uartReqType)\n{\n   var request;\n   var httpRequest = new XMLHttpRequest();\n   document.getElementById('send_status').innerHTML = 'Wait';\n   updateScriptVariables();\n   if(uartReqType)\n   {\n      wpdata[0] = 1;\n   }\n   else\n   {\n      wpdata[0] = 0;\n   }\n   request = '~' + wpdata[0] + '~~' + wpdata[1] + '~~' + wpdata[2] + '~~' + wpdata[3] + '~~' + wpdata[4] + '~~' + wpdata[5] + '~~' + wpdata[6] + '~';\n   httpRequest.onreadystatechange = function() { alertContents(httpRequest); };\n   httpRequest.open('POST', null, true);\n   httpRequest.setRequestHeader('req', request);\n   httpRequest.send(null);\n}\nfunction updateScriptVariables()\n{\n   wpdata[1] = document.getElementById('ci').value;\n   parityTextToNum();\n   wpdata[3] = document.getElementById('sb').value;\n   wpdata[4] = document.getElementById('br').value;\n   wpdata[5] = document.getElementById('cl').value;\n   wpdata[6] = document.getElementById('tp').value;\n}\nfunction updateWebpageData()\n{\n   document.getElementById('ci').value = wpdata[1];\n   parityNumToText();\n   document.getElementById('sb').value = wpdata[3];\n   document.getElementById('br').value = wpdata[4];\n   document.getElementById('cl').value = wpdata[5];\n   document.getElementById('tp').value = wpdata[6];\n}\nfunction parityTextToNum()\n{\n   var parity_config = document.getElementById('pc').value;\n   switch(parity_config)\n   {\n      case 'Odd': wpdata[2] = 1; break;\n      case 'Even': wpdata[2] = 2; break;\n      case 'Mark': wpdata[2] = 3; break;\n      case 'Space': wpdata[2] = 4; break;\n      case 'None': wpdata[2] = 5; break;\n      default: break;\n   }\n}\nfunction parityNumToText()\n{\n   switch(wpdata[2])\n   {\n      case '1': document.getElementById('pc').value = 'Odd'; break;\n      case '2': document.getElementById('pc').value = 'Even'; break;\n      case '3': document.getElementById('pc').value = 'Mark'; break;\n      case '4': document.getElementById('pc').value = 'Space'; break;\n      case '5': document.getElementById('pc').value = 'None'; break;\n      default: break;\n   }\n}\n// -->\n</script>\n</head><body><h1>UART Settings</h1>\n<table border='1'>\n<tr><td>UART Channel      </td><td><select id='ci'><option>0</option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option></select></td>\n<tr><td>Parity Config     </td><td><select id='pc'><option>Odd</option><option>Even</option><option>Mark</option><option>Space</option><option>None</option></select></td>\n<tr><td>Stop Bits         </td><td><select id='sb'><option>0</option><option>1</option></select></td>\n<tr><td>Baud Rate         </td><td><input type='text' id='br' maxlength='6' size='6' readonly='readonly' /></td>\n<tr><td>Character Length  </td><td><input type='text' id='cl' maxlength='1' size='1' readonly='readonly' /></td>\n<tr><td>Telnet Port       </td><td><input type='text' id='tp' maxlength='5' size='5' /></td>\n<tr><td><a href='javascript:void(0);' onClick='createRequest(0);'>Get</a></td><td><a href='javascript:void(0);' onClick='createRequest(1);'>Set</a></td>\n</table><br>\n<p id='send_status'>----</p><br>\n</body></html>\n"};